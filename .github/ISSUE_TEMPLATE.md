# スキルタグの定期正規化機能の実装

## 概要
スキル名の表記揺れを定期的に正規化する機能を実装する。

## 背景
現在、新規データ保存時には自動的にスキル名が正規化されるが、以下のケースで表記揺れが発生する可能性がある：
- AIの抽出ミス（プロンプトに正規化ルールを記載しているが完璧ではない）
- 正規化ルールの追加・変更後の既存データ

## 実装案

### 案1: 管理者専用APIエンドポイント + GASから定期実行
- `/api/admin/normalize-skills` エンドポイントを作成
- 既存データの表記揺れを統合
- GASから週1回程度、自動実行
- **メリット**: 自動化、定期的なメンテナンス
- **デメリット**: 実装コストやや高

### 案2: 管理者画面に手動実行ボタン
- 管理画面にボタンを追加
- 必要に応じて管理者が手動実行
- **メリット**: 実装が簡単、必要な時だけ実行
- **デメリット**: 実行を忘れる可能性

### 案3: 両方実装
- 定期実行 + 手動実行ボタン
- **メリット**: 柔軟性が高い
- **デメリット**: 実装コストが高い

## 関連ファイル
- `web/src/lib/normalizeSkill.ts` - 正規化ルール
- `web/scripts/normalize-skills.ts` - 正規化スクリプト（既存）
- `batch/torch-batch.js` - バッチ処理（プロンプトに正規化ルール記載済み）
- `web/src/app/api/jobs/import/route.ts` - API保存時の正規化処理
- `web/src/app/jobs/register/actions.ts` - 手動登録時の正規化処理

## 現在の実装状況
✅ 新規データ保存時の自動正規化は実装済み
✅ 正規化ルールマップは実装済み（約78件のルール）
✅ バッチ処理のAIプロンプトに正規化ルール追加済み
⬜ 既存データの定期正規化は未実装

## 優先度
**中** - 現在の実装で新規データは正規化されているため、緊急性は低い

## 備考
- 実装する場合は `normalize-skills.ts` スクリプトを参考にする
- 重複チェックと既存データの統合処理が必要
